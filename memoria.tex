%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Plantilla de memoria en LaTeX para la ETSIT - Universidad Rey Juan Carlos
%%
%% Por Gregorio Robles <grex arroba gsyc.urjc.es>
%%     Grupo de Sistemas y Comunicaciones
%%     Escuela Técnica Superior de Ingenieros de Telecomunicación
%%     Universidad Rey Juan Carlos
%% (muchas ideas tomadas de Internet, colegas del GSyC, antiguos alumnos...
%%  etc. Muchas gracias a todos)
%%
%% La última versión de esta plantilla está siempre disponible en:
%%     https://github.com/gregoriorobles/plantilla-memoria
%%
%% Para obtener PDF, ejecuta en la shell:
%%   make
%% (las imágenes deben ir en PNG o JPG)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[a4paper, 12pt]{book}
%\usepackage[T1]{fontenc}

\usepackage[a4paper, left=2.5cm, right=2.5cm, top=3cm, bottom=3cm]{geometry}
\usepackage{times}
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel} % Comenta esta línea si tu memoria es en inglés
\usepackage{url}
%\usepackage[dvipdfm]{graphicx}
\usepackage{graphicx}
\usepackage{wrapfig} %preámbulo
\usepackage{float}  %% H para posicionar figuras
\usepackage[nottoc, notlot, notlof, notindex]{tocbibind} %% Opciones de índice
\usepackage{latexsym}  %% Logo LaTeX

\title{Memoria del Proyecto}
\author{Nombre del autor}

\renewcommand{\baselinestretch}{1.5}  %% Interlineado

\begin{document}

\renewcommand{\refname}{Bibliografía}  %% Renombrando
\renewcommand{\appendixname}{Apéndice}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PORTADA

\begin{titlepage}
\begin{center}
\begin{tabular}[c]{c c}
%\includegraphics[bb=0 0 194 352, scale=0.25]{logo} &
\includegraphics[scale=0.25]{img/logo_vect.png} &
\begin{tabular}[b]{l}
\Huge
\textsf{UNIVERSIDAD} \\
\Huge
\textsf{REY JUAN CARLOS} \\
\end{tabular}
\\
\end{tabular}

\vspace{3cm}

\Large
Grado en Ingeniería en Tecnologías de la Telecomunicación  

\vspace{0.4cm}

\large
Curso Académico 2018/2019

\vspace{0.8cm}

Trabajo Fin de Grado

\vspace{2.5cm}

\LARGE
TALLERES DIDÁCTICOS ORIENTADOS A LA DIFUSIÓN DE EXPERIENCIAS VR ENTRE ALUMNOS DE ENSEÑANZAS MEDIAS.

\vspace{4cm}

\large
Autor : Jonatan Santana Pero \\
Tutor : Pedro de las Heras Quirós
\end{center}
\end{titlepage}

\newpage
\mbox{}
\thispagestyle{empty} % para que no se numere esta pagina


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Para firmar
\clearpage
\pagenumbering{gobble}
\chapter*{}

\vspace{-4cm}
\begin{center}
\LARGE
\textbf{Trabajo Fin de Grado/Máster}

\vspace{1cm}
\large
Título del Trabajo con Letras Capitales para Sustantivos y Adjetivos

\vspace{1cm}
\large
\textbf{Autor :} Jonatan Santana Pero \\
\textbf{Tutor :} Pedro de las Heras Quirós 

\end{center}

\vspace{1cm}
La defensa del presente Proyecto Fin de Carrera se realizó el día \qquad$\;\,$ de \qquad\qquad\qquad\qquad \newline de 20XX, siendo calificada por el siguiente tribunal:


\vspace{0.5cm}
\textbf{Presidente:}

\vspace{1.2cm}
\textbf{Secretario:}

\vspace{1.2cm}
\textbf{Vocal:}


\vspace{1.2cm}
y habiendo obtenido la siguiente calificación:

\vspace{1cm}
\textbf{Calificación:}


\vspace{1cm}
\begin{flushright}
Fuenlabrada, a \qquad$\;\,$ de \qquad\qquad\qquad\qquad de 2019
\end{flushright}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Dedicatoria

\chapter*{}
%\pagenumbering{Roman} % para comenzar la numeracion de paginas en numeros romanos
\begin{flushright}
\textit{Dedicado a \\
mi mismo} \\
\end{flushright}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Agradecimientos

\chapter*{Agradecimientos}
%\addcontentsline{toc}{chapter}{Agradecimientos} % si queremos que aparezca en el índice
\markboth{AGRADECIMIENTOS}{AGRADECIMIENTOS} % encabezado 



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Resumen

\chapter*{Resumen}
%\addcontentsline{toc}{chapter}{Resumen} % si queremos que aparezca en el índice
\markboth{RESUMEN}{RESUMEN} % encabezado

Desde el principio se pensó en este proyecto como una serie de talleres o actividades para introducir a una serie de tecnologías a estudiantes de instituto que estén interesados en introducirse en ellas.

El objetivo de este proyecto es introducir 3 tecnologías , Bettleblocks, A-Frame, y el Micro-Bit como interfaz de usuario.

\begin{itemize}
  \item ¿De qué va este proyecto? ¿Cuál es su objetivo principal?
  \item ¿Cómo se ha realizado? ¿Qué tecnologías están involucradas?
  \item ¿En qué contexto se ha realizado el proyecto? ¿Es un proyecto
dentro de un marco general?
\end{itemize}

Lo mejor es escribir el resumen al final.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ÍNDICES %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Las buenas noticias es que los índices se generan automáticamente.
% Lo único que tienes que hacer es elegir cuáles quieren que se generen,
% y comentar/descomentar esa instrucción de LaTeX.

%%%% Índice de contenidos
\tableofcontents 
%%%% Índice de figuras
\cleardoublepage
%\addcontentsline{toc}{chapter}{Lista de figuras} % para que aparezca en el indice de contenidos
\listoffigures % indice de figuras
%%%% Índice de tablas
%\cleardoublepage
%\addcontentsline{toc}{chapter}{Lista de tablas} % para que aparezca en el indice de contenidos
%\listoftables % indice de tablas

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INDICE%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
\chapter{Introducción}
\pagenumbering{arabic} % para empezar la numeración de página con números

\section{Experiencias VR}
\label{sec:In_VR}

La realidad virtual,es la sensación de estar inmerso en un entorno con objetos o escenas de apariencia real. El usuario puede sumergirse en imágenes 3D realistas, generadas por ordenador, a través de tecnología como los visores de realidad virtual una experiencia que luego puede enriquecerse con otros dispositivos.

En los últimos años hemos visto un crecimiento en su importancia y uso, se trata de una tecnología relativamente temprana tanto en su concepción como en su aplicación, hasta los años 90 no se consiguió simplificar los grandes simuladores de realidad virtual en dispositivos portátiles, desde cascos de realidad virtual a gafas en los que los smartphones se encargan de hacer realidad la experiencia.

Entre los años 2015 y 2016 se vivió el gran avance en estos dispositivos al animarse grandes marcas como HTC o Sony a sacar estos dispositivos a la venta para el público.

A la hora de hablar de la realidad virtual nos centraremos en las denominadas experiencias, se trata de entornos en realidad virtual que nos permiten situarnos en medio de la escena, de la que podemos ser espectadores, o interactuar con ella, ayudándonos de sensores o controladores. 

Si bien es cierto que el mayor uso de la realidad virtual va dirigido a videojuegos, también es empleada en campos como el de la medicina o la educación.


\subsection{Utilidad VR en la educación }
\label{subsec:In_VR1}


El uso de la realidad virtual en la educación, es algo que se está empezando a introducir en la sociedad, ha estado limitada durante años a la formación de pilotos aéreos en carísimos simuladores pero gracias a la mejora en la tecnología y la reducción  en costes, podemos ir viendo como poco a poco más universidades e institutos introducen la realidad virtual, como apoyo para la enseñanza.

Una gran baza de esta tecnología es su accesibilidad, con unas gafas de cartón como las Cardboard de Google y un móvil, podemos ser capaces de experimentar miles de experiencias en realidad virtual.

Tampoco podemos obviar su inmersió que aumenta la motivación y aporta un mayor impacto en los procesos de aprendizaje. 

Declaraciones como las de Baptiste Grève, creador de Unimersiv, una plataforma de experiencias virtuales, señala lo positivo de esta tecnología dado que el cerebro humano retiene el 10% de lo que lee, el 20% de lo que oye y el 90% de lo que experimenta. 


\section{Diseño de figuras 3D}
\label{sec:In_3D}

El diseño de las figuras en 3D se realiza mediante software de diseño  como Blender o de una forma mas sencilla mediante una programación por bloques como la que nos ofrece Beetleblocks.

A la hora de diseñar nuestra figura si nos centramos en la programación por bloques, deberemos tener en cuenta que que nuestra figura puede ser tan compleja como nosotros queramos, pero que para aprender a diseñar, la forma más correcta será empezar con una figura base, para más tarde crear una más compleja ayudándonos de la combinación de figuras simples.



\subsection{Entornos VR con figuras en 3D}
\label{subsec:In_3D1}

Los entornos de realidad virtual se componen de figuras en 3 dimensiones.

Gracias a utilidades como A-Frame podemos crear estos entornos y a herramientas como Beetleblocks y Blender crear figuras para verlas representadas en nuestras experiencias.

\section{Microbit}
\label{sec:In_Microbit}

BBC micro: bit es una pequeña tarjeta programable de 4x5 cm diseñada para que aprender a programar sea fácil, divertido y al alcance de todos.

Gracias a la gran cantidad de sensores que incorpora, sólo con la tarjeta se pueden llevar a cabo centenares de proyectos. BBC micro: bit también es una plataforma IoT (Internet of Things), lo que la hace muy interesante para usuarios avanzados.

Y es Open Source, por supuesto. Tanto el hardware como el software de micro:bit es de código abierto. 


\subsection{Microbit como interfaz de usuario}
\label{subsubsec:In_Microbit1}

Dentro de las múltiples aplicaciones que le podemos dar al Micro: bit , nos centraremos en usarlo com interfaz de usuario, es decir, usarlo como un controlador para movernos por nuestra experiencia de realidad virtual. 

\section{Estructura de la memoria}
\label{sec:In_Estruc}

Tras esta introducción en la que hemos visto una visión de la realidad virtual , los entornos , el diseño de objetos en 3D mediante  bloques, y el Microbit y sus multiples posibilidades, continuaremos describiendo los objetivos que se presentan en este trabajo de fin de  grado, en el capítulo 2.

A continuación en el capítulo 3 aprenderemos a usar las tecnologías que se nos presentan , tanto para el diseño 3D , Beetleblocks y Blender,la creación de entornos de realidad virtual, A-Frame, y por último el uso del Microbit como controlador para nuestra experiencia.

En el capítulo 4 nos encontramos la serie de 3 talleres o prácticas de las que consta este trabajo, el primero centrado en el diseño de figuras en 3D, el segundo para aprender a crear nuestro entorno de realidad virtual, y por último un tercero para usar nuestro Microbit como controlador en el entorno y poder movernos con él.

Para finalizar tenemos el capítulo 5 con las Conclusiones, donde se analizan los resultados obtenidos de las prácticas y las posibles mejoras futuras que se podían aplicar.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Objetivos%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
\chapter{Objetivos}

\section{Objetivos}
\label{sec:objetivos}
Ya hemos visto una breve introducción de las experiencias de realidad virtual, y del diseño de objetos en 3 dimensiones, ahora toca centrarse en los objetivos de este trabajo de fin de grado.

\subsection{Implementar entornos VR en la educación}
\label{subsec:VR_ed}

El primer objetivo a la hora de realizar este trabajo de fin de grado, es exponer la utilidad de la realidad virtual en la educación, y como gracias a ella podemos llegar a aprender a programar figuras sencillas en 3D y experimentar con un entorno de realidad virtual de una forma sencilla e interactiva.

\section{Motivación}
\label{sec:Motiv}

La principal motivación que me ha llevado a realizar este trabajo de fin de grado, es la propia tecnología en sí, siempre me ha llamado la atención , tanto el diseño de objetos en 3D como las experiencias en realidad virtual.

EL gran potencial que tienen, y los múltiples usos que se le pueden dar me han parecido muy interesantes desde un primer momento, gracias a la realización de este trabajo podía a aprender acerca de todo esto y además darle una utilidad en forma de talleres para que alguien aprenda de una forma sencilla y amena.

\section{Metodología y Plan de Trabajo}
\label{sec:MyP}  

XXXX

\subsection{Metodología}
\label{subsec:Metod}

SSSS

\subsection{Plan de trabajo}
\label{subsec:Plan}


SSS

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Creación de experiencias VRs%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
\chapter{Creación de experiencias VR}

\section{Tecnologías}
\label{sec:Tecno}
 En este capítulo nos centraremos en conocer el software y el hardware que vamos a usar en este trabajo, además aprenderemos a usarlo, y veremos unos pequeños ejemplos. 

\section{Diseño 3D}
\label{sec:3D_Desing}

Para diseñar nuestros objetos en 3D, nos ayudaremos de Beetleblocks una potente herrramienta online que usa la programación mediante bloques para realizar nuestros objetos de una maneera más gráfica y amena.

Una vez tengamos nuestra figura deseada en Beetleblocks, usaremos la segunda de las herramientas para el diseño en 3D, se trata de Blender un software open source.
Blender posee numerosas utilidades, pero en este caso nos centraremos solamente en valernos de él, para lograr la extension deseada de nuestro objeto 3D.

\subsection{Programación mediante bloques}
\label{subsec:Prog}

La programación mediante bloques, facilita mucho las cosas si no tenemos experiencia de ningún tipo con la programación, en este trabajo de fin de grado la veremos tanto en Beetleblocks como cuando usemos el Micro: bit.
 

\subsection{Beetleblocks}
\label{subsec:Beetle}

Beetleblocks es un proyecto creado por Eric Rosenbaum, Duks Koschitz, y Bernat Romagosa, además de la ayuda en la programación de Jens Mönig.

Beetle Blocks esta basado en  Scratch e implementado usando Snap! y ThreeJS.

A la hora de comenzar a usar Beetle  Blocks, estos son los pasos a seguir:

\begin{itemize}
  \item Creamos una cuenta.
  
  \item Categorías de los bloques.
  \begin{enumerate}
  	\item Motion: Donde se engloban los bloques para movernos por la malla
  	\item Shapes: Figuras y formas predeterminadas 
  	\item Sensing: funciones para usar con nuestros bloques 
  	\item Variables: creación y uso de variables de entorno 
  	\item Control: operadores para nuestros conjuntos de bloques, eventos , funciones etc..
  	\item Colors: Bloques para dar color a nuestros diseños 
  	\item Operators: operadores matemáticos para usar en nuestros bloques 
  	\item Myblocks: bloques propios creados en el proyecto.
  	
  \end{enumerate}
  
  
  \item En el capítulo~\ref{chap:objetivos} (ojo, otra referencia automática) se muestran los objetivos del proyecto.
  
\end{itemize}

\clearpage

\Large Guía de uso Beetleblocks
\normalsize

Para empezar a usar bettleblocks vamos a empezar a crear una serie de figuras básicas.
Para aprender a usar beetleblocks expongo a continuación una serie de ejemplos prácticos, en los que enseño como crear figuras básicas, crear círculos, moverse en los 3 ejes espaciales y por último un objeto que usa todo lo aprendido para la creación de unos auriculares.


\begin{itemize}

	\item \large Figuras \\
	\normalsize

\begin{enumerate}

	\item Dibujar línea: Usamos la orden
	\includegraphics[width=0.2\textwidth]{img_b/Dibujar_linea}
 	que se encuentra en la pestaña de Shapes 
 	
	 \item Creación de variable: En la pestaña Variables tenemos una primera opción make a variable que nos permite crear una variable global para utilizar.
	 \item Creamos una variable x a la que podemos asignar un valor gracias al bloque \\
	 \includegraphics[width=0.22\textwidth]{img_b/Variables}
	 en el que introducimos el valor que queremos que tenga
	 \item Ahora usamos un bucle para repetir el proceso de la creación de las líneas de una figura geométrica, los bucles vienen indicados en bettleblocks por el bloque
	 \includegraphics[width=0.1\textwidth]{img_b/Repetir}
	 en el hueco del bloque insertaremos nuestra variable, esto provoca que todos los bloques que insertemos a posteriori se repiten el número de veces que valor tenga nuestra variable.
	 \item Dentro del bucle insertaremos 2 bloques
	 \begin{itemize}
	 \item El bloque 
	 \includegraphics[width=0.1\textwidth]{img_b/move_empty}
	 el cual dibujará una línea que tendrá la longitud igual al valor que insertemos en su hueco. En este hueco insertaremos nuestra variable arrastrándola, de tal forma que quedara así  
	\includegraphics[width=0.12\textwidth]{img_b/move_x}
	\item El bloque 
	 \includegraphics[width=0.12\textwidth]{img_b/girar}
	 nos permite girar la dirección de nuestro puntero en este caso lo queremos girar tantos grados como lados tenga nuestra figura geométrica esto lo haremos de una forma muy sencilla con el bloque
	\includegraphics[width=0.12\textwidth]{img_b/div}
	Con el que dividimos por el valor de nuestra variable y los combinamos
	\includegraphics[width=0.22\textwidth]{img_b/giro_div}
	\item Por lo tanto, nuestro bucle completo quedaría así. \\ \\
	\includegraphics[width=0.25\textwidth]{img_b/bucle}
	
	 \end{itemize}
	 
	 \item Dos bloques más que nos serán muy útiles para crear cualquier figura son 
	\includegraphics[width=0.15\textwidth]{img_b/click_event}
	 que nos inicia la serie de bloques que anidemos cuando hagamos click.\\
	 Y \includegraphics[width=0.08\textwidth]{img_b/reset}		 
	  que nos deja el plano en blanco.
	\item Finalmente, nuestro bloque para crear figuras geométricas quedaría así. \\ \\
	\includegraphics[width=0.22\textwidth]{img_b/figuras}


\end{enumerate}

	\item \large Círculos \\
	\normalsize

	Para crear círculos de una manera muy sencilla simplemente 			empezando a dibujar curvas o líneas nos moveremos hasta completar 	los 360 grados del circulo girando x grados uno de los ejes.
	En este ejemplo dibujaríamos un círculo rojo moviéndonos 0.25 		hacia delante cada ver que giramos 18 grados, esto lo haríamos 20 	veces para completar los 360 grados.

	\includegraphics[width=0.22\textwidth]{img_b/Circulos}

	\item \large Moverse por los ejes \\
	\normalsize
	Dependiendo de como dibujemos nuestras figuras deberemos movernos por los ejes y orientar la mariquita que sirve como puntero de orientación para dibujar.
El bloque que se usa para movernos y situarnos en donde queremos es este.
	\includegraphics[width=0.22\textwidth]{img_b/axis}
	
	\item \large Rellenar \\
	\normalsize
	
	\item \large Figuras predeterminadas \\
	\normalsize
	Las figuras predeterminadas que nos ofrece bettleblocks son el cubo (en dos formas), el cilindro y la esfera cuyos bloques se corresponden con: 
	
	\includegraphics[width=0.28\textwidth]{img_b/figuras_4}
	
	\item \large Auriculares \\
	\normalsize
	
	Para probar el manejo de Bettleblocks he creado una figura sencilla , se trata de unos cascos en los que uso una serie de bloques parra dibujarlos.
	
	
	\includegraphics[width=0.4\textwidth]{img_b/cascos_pic}
	
	
	
\end{itemize}

\Large Formato \\
\normalsize
	


Por último para continuar usaremos AFRAME para poder visualizar nuestra imagen en 3D y para esto necesitaremos exportar nuestra figura en formato .STL.
El siguiente programa que usaremos será Blender para poder dar un formato compatible  con A-Frame a nuestra figura.

\clearpage
\subsection{Blender}
\label{subsec:Blender}

Blender es una potente herramienta open source de creación 3D.
En este trabajo de fin de grado le vamos a dar un uso muy concreto, se trata de pasar nuestra figura creada con Beetleblocks a un formato compatible con A-Frame (.obj)

Abrimos Blender lo primero que vemos será una pantalla como esta
	\begin{figure}[H]
    		\centering
    		\includegraphics[width=15cm, keepaspectratio]{img/blender_0}
		\caption{Blender}
		\label{figura:foro_hilos}
 	\end{figure} 



\begin{itemize}
\item Los pasos a seguir para exportar nuestra figura en \textbf{\textit{.obj}} y \textbf{\textit{.mtl}} son los siguientes:
\begin{enumerate}

	 \item Nos posicionamos encima  del cubo y presionamos \textbf{\textit{x}} para borrarlo.  
	 
	 \item pulsamos espacio y escribimos \textbf{\textit{import stl}}.
	 
	 \item Pulsamos espacio de nuevo y escribimos \textbf{\textit{export obj}} seleccionando las 			checkboxes\textbf{\textit{Write Normals, Write Materials}}

\end{enumerate}
	 
\end{itemize}

\clearpage

\section{A-frame}
\label{subsec:Aframe}
Como ya sabemos A-Frame es el framework que nos permite crear nuestra experriencia de realidad virtual, su aplicación es posible mediante HTML o JavaScript aunque en la serie de talleres , el uso que le daremos será mediante documentos HTML, en este capítulo aprenderemos a usarlo en las dos vertientes.

A continuación expongo una breve guía de uso de ambas 


a-Frame is a web framework for building virtual reality (VR) experiences. A-Frame is based on top of HTML, making it simple to get started. But A-Frame is not just a 3D scene graph or a markup language; the core is a powerful entity-component framework that provides a declarative, extensible, and composable structure to three.js.

Originally conceived within Mozilla and now maintained by the co-creators of A-Frame within Supermedium, A-Frame was developed to be an easy yet powerful way to develop VR content. As an independent open source project, A-Frame has grown to be one of the largest VR communities.

A-Frame supports most VR headsets such as Vive, Rift, Windows Mixed Reality, Daydream, GearVR, Cardboard, Oculus Go, and can even be used for augmented reality. Although A-Frame supports the whole spectrum, A-Frame aims to define fully immersive interactive VR experiences that go beyond basic 360° content, making full use of positional tracking and controllers.

\subsection{Programación A-frame mediante HTML}
\label{subsec:HTML}

REKLLLENAR
\subsection{Programación A-frame mediante JS}
\label{subsec:JS}

Gracias a la importación de archivos en JavaScript podemos añadir multiples funcionalidades a A-Frame.

Un paquete muy utilizado es el aframe-extras
\footnote{https://github.com/donmccurdy/aframe-extras. } se trata de una serie de Add-ons y helpers para A-Frame, e incluye componentes de control, modelos predefinidos, primitives \dots.

Otro recurso muy utilizado para A-Frame y basado en JavaScript son los components
\footnote{https://aframe.io/docs/0.9.0/introduction/entity-component-system.html.},
estos nos habilitan una serie de funciones y funcionas como módulos, existe una amplia biblioteca de components, entre ellos hay algunos que se organizan en paquetes como superframe.
\footnote{https://github.com/supermedium/superframe.}

El uso de cada component es particular  y puede encontrarse en su documentación, pero generalmente el uso conlleva a vincularlo con una entidad \textit{$<$a-entity$>$} y configurarlo.\\
Tomamos como ejemplo particle system, su uso sería de la siguiente forma:

\begin{itemize}
\item Importamos el component de la misma manera que ya lo hicimos con A-Frame en nuestro index.html 

\begin{verbatim}
<head>
 <script src="https://aframe.io/[...].min.js">
             </script>
 <script src="https://unpkg.com/aframe-[...]-component.min.js">
             </script>    		
</head>		
\end{verbatim}



\item Y a continuación vinculamos particle system con una entidad
\begin{verbatim}
<body>
 <a-scene>
  <a-entity particle-system="preset: snow" position="0 0 -10">
        </a-entity>
 </a-scene>
</body>
\end{verbatim}


\end{itemize}

\section{Microbit}
\label{subsec:Microbit}

"Micro:bit es una pequeña computadora programable, diseñada para hacer que el aprendizaje y la enseñanza sean fáciles y divertidos!"

Esta es la frase que encontramos al entrar a \textit{https://microbit.org/es}, y eso es Micro:bit, un sistema de Hardwarre embebido, diseñado por la BBC para la enseñanza informática en UK.
Su primera aparición fue el 12 de Marzo de 2015, y se empezó a distribuir en Febrero de 2016, consta de un procesador ARM CortexM0, acelerómetro y magnetómetro, conectividad Blueethoot y USB, 25 leds, 2 botones programables y puede ser alimentada por medio de pilas o USB. LAs entradas y salidas del dispositivo están formadas por 5 anillos conectores que forman parte de un conector mayor de 23 pines.
\\
\includegraphics[width=0.8\textwidth]{img/microbit}
 
Hay dos principales editores de código en la web de Micro:bit, Makecode, basado en la programación mediante bloques, y MicroPython una variación de Python.

\clearpage

\subsection{Programación Microbit mediante bloques(Makecode)}
\label{subsec:Microbit_prog}

Para la programación mediante bloques del Micro:bit vamos a utilizar \textit{Makecode}
\footnote{https://makecode.microbit.org}
\\\\
\includegraphics[width=1\textwidth]{img/Makecode}

Con una interfaz muy parecida a la de Beetleblocks divide sus bloques en grupos, que aportan distintas funciones como Bucles , acciones para los LEDs, Lógica, Matemática \dots etc

En la web de Makecode disponemos de numerosos tutoriales para familiarizarnos con su uso.

\subsection{Micropython}
\label{subsec:Microbit_py}
Mycropython es el otro editor de código que esta presente en la web oficial de Micro:bit, permite al usuario escribir scripts de Python en el editor web de Micro bit los cuales se combinan con el firmware de MicroPython y se cargan en el dispositivo.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Diseño e implementación de los talleres %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
\chapter{Diseño e implementación de los talleres}
\section{Introducción y propósito de los talleres}
\label{sec:In_Taller}

El principal motivo de este trabajo de fin de grado es introducir todas estas herramientas que hemos explicado previamente a alumnos de enseñanzas medias, y para ello voy a desarrollar una serie de tres talleres, estos son autoconclusivos pero a su vez cada uno de ellos utiliza lo que aprendimos en el anterior haciendo que una vez finalizamos los tres tengamos una experiencia de realidad virtual completa creada con A-Frame en la que veamos un objeto creado con Beetleblocks y que puede ser controlada con nuestro Micro:bit para movernos por ella.

Por tanto el desarrollo y contenido de los talleres es el siguiente:
\begin{itemize}
\item \textbf{Taller 1}: Crea tu objeto 3D con Beetleblocks.\\
En este taller nos centraremos en la creación de un objeto 3D con Bettleblocks, aprenderemos a exportarlo y a darle el formato adecuado para el siguiente taller.
\item \textbf{Taller 2}: Crea tu experiencia de realidad virtual con A-frame.\\
En este taller aprenderemos a usar A-Frame creando un entorno de realidad virtual en el que esta incluido nuestro objeto creado anteriormente con Beetleblocks.
\item \textbf{Taller 3}: Micro:bit como interfaz de usuario para tu experiencia de realidad virtual.\\
En este taller convertiremos nuestro Micro:bit en un controlador para nuestra experiencia de realidad virtual
\end{itemize}

\section{Taller 1 (Creación y exportación de un objeto 3D  )}
\label{sec:In_VR}

Este primer taller tiene el objetivo de que aprendas a crear un objeto en 3D con Beetleblocks y su accesible método de programación mediante bloques. Además en la última parte del taller dejaremos nuestro objeto preparado para usarlo en un entorno VR creado con A-Frame.

\subsection{ Bettleblocks}
\label{subsec:In_3D1}

Beettleblocks nos pone las cosas faciles a la hora de crear objetos 3D, con este taller aprenderemos a \dots

\subsection{ Blender}
\label{subsec:In_3D1}

Ya hemos aprendido como crear nuestro objeto, ahora solo nos falta que tenga una extensión .obj para ello vamos a usar un software OpenSource de diseño 3D como es Blender.

Los pasos a realizar son muy sencillos, solo usaremos Blender como si de una herramienta de conversión se tratase.

Abrimos Blender lo primero que vemos será una pantalla como esta
	\begin{figure}[H]
    		\centering
    		\includegraphics[width=15cm, keepaspectratio]{img/blender_0}
		\caption{Blender}
		\label{figura:foro_hilos}
 	\end{figure} 



\begin{itemize}
\item Los pasos a seguir para exportar nuestra figura en \textbf{\textit{.obj}} y \textbf{\textit{.mtl}} son los siguientes:
\begin{enumerate}

	 \item Nos posicionamos encima  del cubo y presionamos \textbf{\textit{x}} para borrarlo.  
	 
	 \item pulsamos espacio y escribimos \textbf{\textit{import stl}}.
	 
	 \item Pulsamos espacio de nuevo y escribimos \textbf{\textit{export obj}} seleccionando las checkboxes \textbf{\textit{Write Normals, Write Materials}}
	 \\\\
	 \includegraphics[width=0.25\textwidth]{img/export_obj}

\end{enumerate}
	 
\end{itemize}

\clearpage

\section{Taller 2 (Creación de un entorno VR ) }
\label{sec:In_VR}

En este segundo taller aprenderemos a crear una experiencia de realidad virtual con A-Frame, además importaremos nuestro objeto creado en el primer taller con Beetleblocks, y podremos visualizarla en nuestro smartphone.
\subsection{Creación de entorno VR con A-Frame}
\label{subsec:In_3D1}

Para crear nuestra experiencia de realidad virtual el primer paso es crear nuestro index.html en el directorio de nuestro proyecto, para esto crearemos un repositorio de la siguiente manera:\\
En un terminal unix escribimos
\begin{verbatim}
mkdir A-Frame
cd A-Frame
makefile index.html
\end{verbatim}

A-Frame  puede ser utilizado desde un documento plano de HTML sin la necesidad de instalar nada.

Para empezar a usar A-Frame en nuestro index.html debemos importarlo en la cabecera de esta manera:{\footnotesize
\begin{verbatim}

	<head>
    		<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
\end{verbatim}
}
Con esto ya hemos cargado la versión de A-Frame y podemos dar paso a nuestra primera prueba.
\begin{itemize}
\item \large Primera figura \\
\normalsize
Un ejemplo sencillo para aprender a usar A-Frame consiste en cargar un primitive, plantillas de elementos que están dentro del código de A-Frame, gracias a ellos podemos crear un cubo , un cilindro, una esfera \dots. de una forma muy sencilla.
A la hora de usarlos en nuestro \textit{index.html} basta con nombrarlos como si se tratara de una entidad, a los primitives se le pueden dar diferentes propiedades.
Siempre que cargamos una figura en A-Frame tiene que ser dentro de la escena, en nuestro documento html $<$\textit{a-scene}$>$.

Cargamos un cubo y una esfera en nuestra escena de la siguiente manera:
{
\begin{verbatim}
<body>
 <a-scene>
  <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9">
  </a-box>
  <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E">
  </a-sphere>
  <a-sky color="#ECECEC"></a-sky>
 </a-scene>
</body>
\end{verbatim}
}

Además podemos crear nuestros propios primitives, algo que veremos en la siguiente sección de este capítulo, exportando un archivo JavaScript.

Ahora que ya sabemos la metodología para cargar objetos en A-Frame, el siguiente paso a realizar es cargar nuestro objeto creado con Beetleblocks, ya con el formato \textbf{\textit{.obj}} que le hemos conseguido dar con Blender.

\begin{itemize}
\item El proceso para cargarlo en nuestro index.html es el siguiente:
\begin{enumerate}

	 \item Inicializamos nuestras variables \textbf{\textit{.obj}}, \textbf{\textit{.mtl}}, y \textbf{\textit{textura}}.  
	 
	 {\footnotesize
\begin{verbatim}
<a-entity 
 obj-model="obj: #crate-obj;" mtl="#crate-mtl" 
             material="src: #crate-texture">

</a-entity>.
\end{verbatim}
	}
	 
	 \item Cargamos el \textbf{\textit{.obj}}, \textbf{\textit{.mtl}}, y \textbf{\textit{textura}}
	 \footnote{Para la textura nos vale cualquier \textbf{\textit{.jpg}}. } que queramos\footnote{En la propiedad  \textbf{\textit{src}} indicamos la ruta del archivo.}.
	 
	{\footnotesize
\begin{verbatim}
<a-assets>
 <a-asset-item id="crate-obj" src="models/cascos3.obj"></a-asset-item>
 <a-asset-item id="crate-mtl" src="models/cascos3.mtl"></a-asset-item>
 <img id="crate-texture" src="img/military-camouflage.jpg">
</a-assets>	

\end{verbatim}
	}
\end{enumerate}
	 
\end{itemize}


\clearpage 
\subsection{Animación básica con A-frame.}
\label{subsec:In_3D1}

A-Frame nos permite añadir algo de animación básica a nuestra figura, gracias a la importación de paquetes en javaScript.

Nuestro objetivo va a ser que nuestra figura rote, para hacerlo vamos a valernos del paquete aframe-animation-component.

Lo importamos en nuestra cabecera $<$\textit{head}$>$
\begin{verbatim}
<script src="https://rawgit.com/ngokevin/aframe-animation-component
  /master/dist/aframe-animation-component.min.js">

</script>
\end{verbatim}
Para usar la animación usamos $<$\textit{a-animation}$>$ dentro de $<$\textit{a-entity}$>$
\begin{verbatim}
<a-entity [...]>

 <a-animation attribute="rotation" begin="click"
 			 repeat="5" to="0 360 0">  </a-animation>
 
 <a-event name="mouseenter" scale="4 1 6">
 </a-event>
 
</a-entity>
\end{verbatim}

Con esto conseguimos que el objeto rote cuando hacemos click con el ratón en él.

Al estar en un entorno de realidad virtual, no disponemos de nuestro ratón y lo que funciona como tal es el centro de nuestra mirada, para conseguir apuntar al objeto creamos un cursor en el centro de la pantalla que no es otra cosa que el centro de la perspectiva que tenemos en cada momento.
El cursor se crea una vez definimos la posición inicial de la cámara, en este caso le daremos un color rojo que resalte con el fondo.
\begin{verbatim}
[...]
 <a-camera position="1.5 1 6.5">
 
  <a-cursor color="#FF0000">
  
 </a-camera>
</a-entity>
[...]
\end{verbatim}

\subsection{Anexo: Lleva tu experiencia VR a tu smartphone}
\label{subsec:In_3D1}
Ya tenemos nuestra figura cargada en A-Frame de forma local.Pero como ya sabemos para visualizar el entorno de realidad virtual, necesitamos algo más y es un visor, la forma más rapida y sencilla de ver nuestra experiencia, es a traves de nuestro smartphone, para exportar nuestro index.html a internet nos vamos a ayudar de una utilidad llamada ngrok.

\begin{itemize}
\item Para usar ngrok hacemos lo siguiente
\begin{enumerate}
	\item Abrimos una terminal y no vamos a nuestra carpeta raiz del proyecto, lanzamos nuestro servidor de forma local:
	\begin{verbatim}
	python -m SimpleHTTPServer 1234
	\end{verbatim}
	\item instalamos ngrok, simplemente descargando el .zip y descomprimiéndolo en nuestra carpeta raíz.
	
	\item después de esto lo ejecutamos pasándole como argumento el puerto de nuestro servidor.
	
	\begin{verbatim}
	./ngrok http 1234
	\end{verbatim}
	
	\item Ngrok nos devuelve una pantalla con la Url de nuestra aplicación. 
	\\
	\\
	\includegraphics[width=0.8\textwidth]{img/ngrok}
	
	\item Introduciendo esta url en un navegador compatible como Google Chrome podemos visualizar nuestra experiencia en nuestro smartphone u otro dispositivo compatible.
	
\end{enumerate}
\end{itemize}

\end{itemize}


\clearpage 

\section{Taller 3(Microbit como IU en entorno VR)}
\label{sec:In_VR}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CONCLUSIONES %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Conclusiones}
\label{chap:conclusiones}


\section{Consecución de objetivos}
\label{sec:consecucion-objetivos}

Esta sección es la sección espejo de las dos primeras del capítulo de objetivos, donde se planteaba el objetivo general y se elaboraban los específicos.

Es aquí donde hay que debatir qué se ha conseguido y qué no. 
Cuando algo no se ha conseguido, se ha de justificar, en términos de qué problemas se han encontrado y qué medidas se han tomado para mitigar esos problemas.


\section{Aplicación de lo aprendido}
\label{sec:aplicacion}

Aquí viene lo que has aprendido durante el Grado/Máster y que has aplicado en el TFG/TFM. Una buena idea es poner las asignaturas más relacionadas y comentar en un párrafo los conocimientos y habilidades puestos en práctica.

\begin{enumerate}
  \item a
  \item b
\end{enumerate}


\section{Lecciones aprendidas}
\label{sec:lecciones_aprendidas}

Aquí viene lo que has aprendido en el Trabajo Fin de Grado/Máster.

\begin{enumerate}
  \item a
  \item b
\end{enumerate}


\section{Trabajos futuros}
\label{sec:trabajos_futuros}

Ningún software se termina, así que aquí vienen ideas y funcionalidades que estaría bien tener implementadas en el futuro.

Es un apartado que sirve para dar ideas de cara a futuros TFGs/TFMs.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APÉNDICE(S) %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\appendix
\chapter{Manual de usuario}
\label{app:manual}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BIBLIOGRAFIA %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage

% Las siguientes dos instrucciones es todo lo que necesitas
% para incluir las citas en la memoria
\bibliographystyle{abbrv}
\bibliography{memoria}  % memoria.bib es el nombre del fichero que contiene
% las referencias bibliográficas. Abre ese fichero y mira el formato que tiene,
% que se conoce como BibTeX. Hay muchos sitios que exportan referencias en
% formato BibTeX. Prueba a buscar en http://scholar.google.com por referencias
% y verás que lo puedes hacer de manera sencilla.
% Más información: 
% http://texblog.org/2014/04/22/using-google-scholar-to-download-bibtex-citations/

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INTRODUCCIÓN %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Introducción}
\label{sec:intro} % etiqueta para poder referenciar luego en el texto con ~\ref{sec:intro}

No te olvides de echarle  un ojo a la página con los cinco errores de escritura más frecuentes\footnote{\url{http://www.tallerdeescritores.com/errores-de-escritura-frecuentes}}.

Aconsejo a todo el mundo que mire y se inspire en memorias pasadas. Las mías están todas almacenadas en mi web del GSyC\footnote{\url{https://gsyc.urjc.es/~grex/pfcs/}}.

\section{Sección}
\label{sec:seccion}

Esto es una sección, que es una estructura menor que un capítulo. 

Por cierto, a veces me comentáis que no os compila por las tildes.
Eso es un problema de codificación.
Cambiad de ``UTF-8'' a ``ISO-Latin-1'' (o vicecersa) y funcionará.

\subsection{Estilo}
\label{subsec:estilo}

Recomiendo leer los consejos prácticos sobre LaTeX de Diomidos 
Spinellis\footnote{\url{https://github.com/dspinellis/latex-advice}}.

Sobre el uso de las comas\footnote{\url{http://narrativabreve.com/2015/02/opiniones-de-un-corrector-de-estilo-11-recetas-para-escribir-correctamente-la-coma.html}}

A continuación, viene una figura, la Figura~\ref{figura:foro_hilos}. 
Observarás que el texto dentro del a referencia es el identificador de la figura (que se corresponden con el ``label'' dentro de la misma). 
También habrás tomado nota de cómo se ponen las ``comillas dobles'' para que se muestren correctamente. 
Volviendo a las referencias, nota que al compilar, la primera vez se crea un diccionario con las referencias, y en la segunda compilación se ``rellenan'' estas referencias. 
Por eso hay que compilar dos veces.

 \begin{figure}
    \centering
    \includegraphics[bb=0 0 800 600, width=12cm, keepaspectratio]{img/foro1}
    \caption{Página con enlaces a hilos}
    \label{figura:foro_hilos}
 \end{figure}


\section{Estructura de la memoria}
\label{sec:estructura}

En el capítulo~\ref{chap:objetivos} (ojo, otra referencia automática) se muestran los objetivos del proyecto.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ESTADO DEL ARTE %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Estado del arte}



Puedes citar libros, como el de Bonabeau et al. sobre procesos estigmérgicos~\cite{bonabeau:_swarm}. % Nota que el ~ añade un espacio en blanco, pero no deja que exista un salto de línea. Imprescindible ponerlo para las citas.

\section{Sección 1} 
\label{sec:seccion1}

Hemos hablado de cómo incluir figuras.
Pero no hemos dicho nada de tablas.
A mí me gustan las tablas.
Mucho.
Aquí un ejemplo de tabla, la Tabla~\ref{tabla:ejemplo}.

\begin{table}
 \begin{center}
  \begin{tabular}{ | l | c | r |} % tenemos tres colummnas, la primera alineada a la izquierda (l), la segunda al centro (c) y la tercera a la derecha (r). El | indica que entre las columnas habrá una línea separadora.
    \hline
    1 & 2 & 3 \\ \hline % el hline nos da una línea vertical
    4 & 5 & 6 \\ \hline
    7 & 8 & 9 \\
    \hline
  \end{tabular}
  \label{tabla:ejemplo}
  \caption{Ejemplo de tabla}
 \end{center}
\end{table}



Si tu proyecto es un software, siempre es bueno poner la arquitectura (que es cómo se estructura tu programa a ``vista de pájaro'').

Por ejemplo, puedes verlo en la figura~\ref{fig:arquitectura}.

\begin{figure}
  \centering
  \includegraphics[width=9cm, keepaspectratio]{img/arquitectura}
  \caption{Estructura del parser básico}
  \label{fig:arquitectura}
\end{figure}

Si utilizas una base de datos, no te olvides de incluir también un diagrama de entidad-relación.

\end{document}
